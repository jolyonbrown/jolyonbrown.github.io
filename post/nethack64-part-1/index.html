<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title> Nethack64 Part 1 &middot; Jolyon Brown </title>


<link rel="stylesheet" href="https://jolyonbrown.com/css/slim.css">
<link rel="stylesheet" href="https://jolyonbrown.com/css/highlight.min.css">
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/favicon.ico">


<link href="" rel="alternate" type="application/rss+xml" title="Jolyon Brown" />

</head>

<body>
  <div class="container">
    <div class="header">
  <h1 class="site-title"><a href="https://jolyonbrown.com/">Jolyon Brown</a></h1>
  <p class="site-tagline"></p>
  <div class="nav">
    <a class="nav-btn" href="#">
      <span class="ci ci-burger"></span>
    </a>
    <ul class="nav-list">
       
	  <li class="spacer">&ac;</li>

      <li><a href="https://github.com/jolyonbrown">Github</a></li> 
      <li><a href="https://twitter.com/Eddie_Catflap">Twitter</a></li> 
    </ul>
  </div>
</div>
    <div class="content">
      <div class="posts">
        <div class="post">
          <h2 class="post-title"><a href="https://jolyonbrown.com/post/nethack64-part-1/">Nethack64 Part 1</a></h2>
          <span class="post-date">Jan 12, 2018 </span>
          <div class="post-content">
            <p>So far on this project I&rsquo;ve done a bit of background reading and information gathering. <a href="http://nethack.org">Nethack.org</a> is the first place to go for all things Nethack code related of course. One thing I spotted early on was the news that the current version - 3.6 - is relatively new and includes a lot of additional code and tidying up of the venerable 3.4 branches. The development team also took the decision to no longer worry about optimising for older, memory constrained platforms (which I guess includes the aforementioned Amiga). They do ask for anyone who manages to get 3.6 up and running on these sorts of systems to let them know how they get on. As I’m developing for a machine with memory constraints way beyond anything in the list of supported platforms I&rsquo;ve made the decision to stick with the 3.4 branch. If I manage that, then perhaps I can re-use my knowledge to tackle the 3.6 branch. But I doubt that will happen.</p>

<p>I was also reminded that the game requires 80 columns. The C64 only had a 40x25 screen, but I recall many implementations of 80 columns from back in the day (when it was being pushed as a &lsquo;proper&rsquo; business friendly machine). A quick google brought me up some options for that on the code front, so that’s a tick in the box right from the start. I suppose I could try and adapt it to 40 columns though if I really get stuck.</p>

<p>Given that limited memory is going to be the killer obstacle here by my reckoning, I looked around for details of something I recall being done later on in the C64’s lifetime - using the floppy drive as a swapfile (essentially making more memory available). After a bit of hunting and with some help on the great <a href="https://www.reddit.com/r/c64/">/r/c64</a> subreddit, I’ve a couple of avenues to investigate. GEOS did something along these lines, as did Infocom apparently. I also had a reminder that using the spare CPU in the 1541 might be worth looking into as well. One thing I do have to my advantage is that Nethack is turn based, so having to squeeze in a ton of processing every <sup>1</sup>&frasl;<sub>60</sub> of a second isn’t likely to be a problem for me. Dealing with the slow serial bus might be worth it for some extra cpu capacity.</p>

<p>I <a href="http://nethack.org/v343/download-src.html">downloaded</a> version 3.4 of the Netback code (which unfortunately isn&rsquo;t held on Github like the 3.6 branch) and found a ton of helpful README type notes in there, including some specific notes around porting. Excellent. Now to get familiar with how this game works..</p>

          </div>
        </div>
        <div class="pagination">
          <a class="btn previous " href="https://jolyonbrown.com/post/converting-nethack-to-the-c64/"> Prev</a>  
          <a class="btn next " href="https://jolyonbrown.com/post/formula-pi/"> Next</a> 
        </div>
      </div>
    </div>
    
    <div class="footer">
  
  <p>Powered by <a href="https://gohugo.io">Hugo</a>. This theme—Slim—is open sourced on <a href="https://github.com/zhe/hugo-theme-slim">Github</a>.</p>
  
</div>

  </div>
  <script src="https://jolyonbrown.com/js/slim.js"></script>
  <script src="https://jolyonbrown.com/js/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
</body>

</html>
